import {bindable, customElement, containerless, inject} from 'aurelia-framework';
import MtG from '../../../services/mtg';

@customElement('results-grid')
@containerless
@inject(MtG)
export class resultsGridCustomElement {
  @bindable cards;
  constructor(mtg) {
    this.mtg = mtg;
    this.cards = mtg.cards;
    this.page = 1;
  }

  async loadMore() {
    this.page++;
    // TODO: Config should be generated by a search component.
    let config = {
      set: ['eve', 'dgm'],
      pageSize: 100,
      page: this.page
    };
    this.cards = await this.mtg.getCards(config);
  }
}
