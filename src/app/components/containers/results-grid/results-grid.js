import {bindable, customElement, containerless, inject} from 'aurelia-framework';
import MtG from '../../../services/mtg';

@customElement('results-grid')
@containerless
@inject(MtG)
export class ResultsGrid {
  @bindable cards;
  cards = [];
  page = 1;
  constructor(mtg) {
    this.mtg = mtg;
  }

  async loadMore() {
    this.page++;
    // TODO: Config should be generated by a search component.
    let config = {
      set: ['ogw'],
      pageSize: 24,
      page: this.page
    };
    this.cards = await this.mtg.getCards(config);
  }
}
